<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>GeoLocation</title>

    <script src="../jquery.js"></script>
    <script>
        var geo = undefined;

        $(document).ready(init);
        function init() {
            //判斷是否支援Geo Location
            if (geo = getGeoLocation()) {
                $("#title").text("Geolocation is supported.");
                //geo.getCurrentPosition(showCoords);
                geo.watchPosition(showCoords, errorHandler);
            } else {
                $("#title").text("Geolocation is not supported.");
            }
        }

        function getGeoLocation() {
            if (navigator.geolocation) {
                return navigator.geolocation;
            } else {
                return undefined;
            }
        }

        function showCoords(e) {
            var lat = e.coords.latitude;
            var lon = e.coords.longitude;
            $("#latitude").text(lat.toString());
            $("#longitude").text(lon.toString());
        }

        function errorHandler(error) {
            switch (error.code) {
                case error.TIMEOUT:
                    alert("TIMEOUT");
                    break;
                case error.POSITION_UNAVALIABLE:
                    alert("POSITION_UNAVALIABLE");
                    break;
                case error.PERMISSION_DENIED:
                    alert("PERMISSION_DENIED");
                    break;
                default:
                    alert("Unknow");
            }
        }
    </script>
</head>

<body>
    <h1 id="title">GEO Location Sample.</h1>
    <table>
        <tr>
            <th>Latitude</th>
            <th>Longitude</th>
        </tr>
        <tr>
            <td id="latitude"></td>
            <td id="longitude"></td>
        </tr>
    </table>
    <hr>
    <iframe id="myMap1" width='500' height='400' frameborder='2'
        src='http://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=25.0609664,121.5463424&z=16&output=embed'></iframe>
    <hr>
    <iframe id="myMap2" width='500' height='400' frameborder='2'
        src='http://maps.google.com.tw/maps?f=q&hl=zh-TW&geocode=&q=台北車站&z=16&output=embed'></iframe>
    <hr>
    <iframe width="600" height="350" src="https://www.youtube.com/embed/KnHNNyAYiu0"
        title="Run Away - Tzuyu(TWICE) ツウィ 쯔위 [Music Bank] | KBS WORLD TV 240906" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
</body>

</html>